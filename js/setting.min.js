!function(){function a(a){fetch(`https://api.bilibili.com/x/relation/followings?vmid=3831650&pn=${a}&ps=50`,{method:'GET',credentials:'include',body:null}).then((a)=>a.json()).then((c)=>{if(0===c.code){for(let a=0;a<c.data.list.length;a++)b(c.data.list[a].face,c.data.list[a].uname,c.data.list[a].mid,c.data.list[a].official_verify.type,c.data.list[a].official_verify.desc);1===a&&(d=Math.ceil((c.data.total-0)/50)),a===d&&(document.getElementById('loading').style.display='none')}else;})}function b(a,b,d,h,i){d-=0;let j=0===h?'background-position: var(--personal-verify);':1===h?'background-position: var(--organization-verify);':'display: none;',k=document.createElement('div');k.classList.add('rua-setting-user-block'),k.innerHTML=`<div class="rua-setting-user-info">
            <a href="https://space.bilibili.com/${d}" target="_blank" class="user-face"><img src="${a}"><span class="verified" style="${j}"></span></a>
            <div class="user-name"><a href="https://space.bilibili.com/${d}" target="_blank">${b}</a><span class="verify-text">${i}</span></div>
        </div>
        <div class="rua-setting-button-group">
            <div class="button-host">
                <section class="button">
                    <div class="checkbox">
                        <input id="rua-input-live-${d}" type="checkbox" ${-1===e.indexOf(d)?'checked':''}>
                        <label></label>
                    </div>
                </section>
            </div>
            <div class="button-host">
                <section class="button">
                    <div class="checkbox">
                        <input id="rua-input-video-${d}" type="checkbox" ${-1===f.indexOf(d)?'checked':''}>
                        <label></label>
                    </div>
                </section>
            </div>
            <div class="button-host">
                <section class="button">
                    <div class="checkbox">
                        <input id="rua-input-dynamic-${d}" type="checkbox" ${-1===g.indexOf(d)?'checked':''}>
                        <label></label>
                    </div>
                </section>
            </div>
        </div>`,c.appendChild(k),document.getElementById(`rua-input-live-${d}`).addEventListener('change',function(a){let b=a.target.checked,c=[];console.log(b),chrome.storage.sync.get(['blackListLive'],(a)=>{c=a.blackListLive,b?c.splice(c.indexOf(d),1):c.push(d),chrome.storage.sync.set({blackListLive:c},()=>{})})}),document.getElementById(`rua-input-video-${d}`).addEventListener('change',function(){let a=this.checked,b=[];console.log(a),chrome.storage.sync.get(['blackListVideo'],(c)=>{b=c.blackListVideo,a?b.splice(b.indexOf(d),1):b.push(d),chrome.storage.sync.set({blackListVideo:b},()=>{})})}),document.getElementById(`rua-input-dynamic-${d}`).addEventListener('change',function(){let a=this.checked,b=[];chrome.storage.sync.get(['blackListDynamic'],(c)=>{b=c.blackListDynamic,a?b.splice(b.indexOf(d),1):b.push(d),chrome.storage.sync.set({blackListDynamic:b},()=>{})})})}const c=document.getElementById('main');let d=1,e=[],f=[],g=[];!function(){var b=Math.floor;const c=document.getElementById('rua-icon'),h=document.getElementById('rua-nav'),i=document.getElementById('rua-head');let j=1;c.addEventListener('mouseenter',()=>{svga(c.getElementsByTagName('img')[0],b(2*Math.random()+1))}),c.addEventListener('mouseout',()=>{svga(c.getElementsByTagName('img')[0],0)}),c.addEventListener('touchstart',()=>{svga(c.getElementsByTagName('img')[0],b(2*Math.random()+1))}),c.addEventListener('touchend',()=>{svga(c.getElementsByTagName('img')[0],0)}),chrome.storage.sync.get(['blackListLive','blackListDynamic','blackListVideo'],(b)=>{e=b.blackListLive,g=b.blackListDynamic,f=b.blackListVideo,a(1)}),document.body.onscroll=()=>{20<document.documentElement.scrollTop?(document.getElementById('rua-head').setAttribute('style',`top: ${80+document.documentElement.scrollTop}px; position: absolute`),document.getElementById('rua-head-space').setAttribute('style',`display:block; padding: 0; border: none;`)):(document.getElementById('rua-head').removeAttribute('style'),document.getElementById('rua-head-space').setAttribute('style',`display:none; padding: 0; border: none;`)),-83===b(document.body.clientHeight-document.documentElement.scrollTop-window.innerHeight)&&j<d&&(j++,a(j))}}(),chrome.storage.onChanged.addListener(function(a){for(let[b,{oldValue:c,newValue:d}]of Object.entries(a))('blackListDynamic'===b||'blackListVideo'===b||'blackListLive'===b)&&(console.log(b),console.log(d))})}();