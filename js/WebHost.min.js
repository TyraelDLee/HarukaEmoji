!function(){const a={原画PRO:10001,原画:10000,蓝光PRO:401,蓝光:400,超清PRO:251,超清:250,高清:150,流畅:80};let b,d,c,e="\u539F\u753B",f=!1,g="-1",h=window.location.pathname.replaceAll("/","").replace("blanc",""),i=/^\d*$/,j=document.title.replace(" - \u54D4\u54E9\u54D4\u54E9\u76F4\u64AD\uFF0C\u4E8C\u6B21\u5143\u5F39\u5E55\u76F4\u64AD\u5E73\u53F0","").replaceAll(" ",""),k=!0,l=300,m=-1,n="",o=0,p=0,q=-1,r=20,s=!1;if(chrome.storage.sync.get(["enhancedHiddenEntry"],function(a){s=a.enhancedHiddenEntry}),chrome.storage.sync.get(["qn"],function(a){b=a.qn}),chrome.storage.sync.get(["qnvalue"],function(a){e=a.qnvalue}),chrome.storage.sync.get(["medal"],(a)=>{d=a.medal}),chrome.storage.sync.get(["hiddenEntry"],(a)=>{f=a.hiddenEntry}),chrome.storage.sync.get(["record"],(a)=>{k=a.record}),chrome.storage.sync.get(["prerecord"],(a)=>{l=a.prerecord-1+1}),chrome.storage.onChanged.addListener(function(a){for(let[b,{oldValue:c,newValue:e}]of Object.entries(a))"medal"===b&&(d=e),"record"===b&&(k=e,0<l&&recording())}),i.test(h)&&0<h.length){function i(){t=window.innerHeight*y,u=window.innerWidth*y}function C(){return fetch("https://api.live.bilibili.com/room/v1/Room/room_init?id="+h,{method:"GET",credentials:"include",body:null}).then((a)=>a.json()).then((a)=>{0===a.code?(h=a.data.room_id,q=a.data.uid):setTimeout(C,1e3)}).catch(()=>{setTimeout(C,1e3)})}function D(a){let b=document.createEvent("MouseEvents");if(b.initEvent("mousemove",!1,!1),void 0===document.getElementById("live-player")||void 0===document.getElementById("live-player").getElementsByClassName("web-player-controller-wrap").length||0===document.getElementById("live-player").getElementsByClassName("web-player-controller-wrap").length)setTimeout(D,200);else{let c=document.getElementById("live-player"),d=c.getElementsByClassName("web-player-controller-wrap");void 0!==d&&(d[0].style.visibility="hidden",d[1].style.visibility="hidden"),c.dispatchEvent(b),setTimeout(function(){b.initEvent("mouseenter",!1,!0);let e=c.getElementsByClassName("quality-wrap")[0];void 0!==e&&(e.dispatchEvent(b),b.initEvent("click",!1,!0),setTimeout(function(){let d=e.getElementsByClassName("panel")[0].getElementsByClassName("quality-it");if(1<d.length){let e=[];for(let a=0;a<d.length;a++)e.push(d[a].innerHTML.replaceAll(" ",""));d[E(a,e)].dispatchEvent(b),b.initEvent("mouseleave",!1,!1),c.dispatchEvent(b)}},100)),setTimeout(()=>{void 0!==d&&(d[0].style.visibility="visible",d[1].style.visibility="visible")},250)},100)}}function E(b,c){let d=0;for(let e=0;e<c.length;e++)a[c[e]]>=a[b]&&(d=e);return d}function F(){void 0===document.getElementById("chat-items")?setTimeout(F,100):0===document.getElementById("chat-items").getElementsByClassName("important-prompt-item").length?setTimeout(F,10):document.getElementById("chat-items").getElementsByClassName("important-prompt-item")[0].style.display="none"}async function G(a){let b=document.cookie.replaceAll(" ","").split("DedeUserID")[1].split(";")[0].replaceAll("=","");a&&(await C()),s||(await fetch("https://api.live.bilibili.com/xlive/web-room/v1/index/getInfoByUser?from=0&room_id="+h,{method:"GET",credentials:"include",body:null}).then((a)=>a.json()).then((a)=>{0===a.code&&(o=0==a.data.privilege.privilege_type-1+1?4:a.data.privilege.privilege_type,b=a.data.info.uid,r=a.data.property.danmu.length)}).catch(()=>{setTimeout(G,1e3)})),await fetch("https://api.live.bilibili.com/xlive/web-ucenter/user/MedalWall?target_id="+b,{method:"GET",credentials:"include",body:null}).then((a)=>a.json()).then((b)=>{if(0===b.code)for(let c of b.data.list)c.medal_info.target_id===q&&(p=c.medal_info.level,m=c.medal_info.medal_id,n=c.medal_info.medal_name,a&&H(m,n,!0))}).catch(()=>{}),a&&K()}function H(a,b,c){if("-1"!=g&&d&&-1!==a){var e=new FormData;e.append("medal_id",a),e.append("csrf",g),e.append("csrf_token",g),fetch("https://api.live.bilibili.com/xlive/web-room/v1/fansMedal/wear",{method:"POST",credentials:"include",body:e}).then(()=>{console.log("ware medal successful, MID="+a),c&&I(b)})}}function I(a){let b=document.createEvent("MouseEvents");if(b.initEvent("click",!1,!0),0===document.getElementsByClassName("medal-section").length||0===document.getElementsByClassName("medal-section")[0].getElementsByTagName("span").length||0===document.getElementsByClassName("medal-section")[0].getElementsByTagName("span")[0].getElementsByTagName("span").length)setTimeout(()=>{I(a)},200);else{let c=document.getElementsByClassName("medal-section")[0].getElementsByTagName("span")[0];c.dispatchEvent(b),setTimeout(function(){let b=document.getElementById("control-panel-ctnr-box").getElementsByClassName("medal")[0];void 0!==b&&(b.style.display="none");let c=document.getElementById("control-panel-ctnr-box").getElementsByClassName("fans-medal-content")[0].innerText;(void 0===c||c!==a)&&setTimeout(()=>{I(a)},1e3)},20)}}function J(a,b,c,d){var e=Math.abs;return 0===e(a-c)&&0===e(b-d)}function K(){if(console.log("load complete"),"-1"==g||"-1"==v)ha.innerHTML="<div id='load'>\u52A0\u8F7D\u5931\u8D25\uFF0C<br>\u8BF7<a href="+window.location+">\u70B9\u51FB\u8FD9\u91CC</a>\u91CD\u8BD5<br><br>\u5982\u672A\u767B\u5F55\uFF0C\u8BF7\u5148\u767B\u5F55</div>",document.getElementById("load").style.marginTop="130px";else{function a(){let a=new MutationObserver((a)=>{a.forEach(function(a){if("attributes"===a.type&&null!==document.body.getAttribute("class")){let a=document.body.getAttribute("class").split(" ");-1===a.indexOf("fullscreen-fix")?i.innerHTML="":Q(8,i)}})});a.observe(document.body,{attributes:!0}),document.getElementsByClassName("fullscreen-danmaku")[0].classList.add("emoji-fullscreen-danmaku"),j.style.display="none",k.style.display="none",g.style.display="none",f.style.display="none",g.classList.add("emoji_sec"),g.setAttribute("id","fullscreen-table"),h.classList.add("emoji-table"),R(8,l,h,m),Q(8,i),g.appendChild(h),g.appendChild(i),f.setAttribute("id","fs-emoji-bg"),l.placeholder="\u53D1\u4E2A\u5F39\u5E55\u5457~",l.setAttribute("id","fullscreen-input"),m.setAttribute("id","fullscreen-text-length"),m.innerHTML=" 0/"+r,j.setAttribute("id","first-child"),j.appendChild(l),j.appendChild(m),k.innerHTML="\u53D1\u9001",k.classList.add("send-danmaku"),k.setAttribute("id","fullscreen-sub-btn"),document.getElementsByClassName("emoji-fullscreen-danmaku")[0].appendChild(j),document.getElementsByClassName("emoji-fullscreen-danmaku")[0].appendChild(k),document.getElementsByClassName("emoji-fullscreen-danmaku")[0].appendChild(f),document.getElementsByClassName("emoji-fullscreen-danmaku")[0].appendChild(g)}function b(){n.style.display="none",o.style.display="none",j.style.display="block",k.style.display="block",g.style.display="block",f.style.display="block",document.getElementsByClassName("emoji-fullscreen-danmaku")[0].addEventListener("mouseenter",function(){g.classList.remove("fullscreen-hoverout"),g.classList.add("fullscreen-hoverin")}),document.getElementsByClassName("fullscreen-danmaku")[0].addEventListener("mouseleave",function(){g.classList.remove("fullscreen-hoverin"),g.classList.add("fullscreen-hoverout")}),document.getElementById("live-player").addEventListener("mousemove",d),k.addEventListener("click",function(){N(l.value),l.value="",m.innerHTML=" 0/"+r})}function c(){n.style.display="block",o.style.display="block",j.style.display="none",k.style.display="none",g.style.display="none",f.style.display="none",document.getElementById("live-player").removeEventListener("mousemove",d)}function d(){clearTimeout(e),e=setTimeout(function(){g.classList.remove("fullscreen-hoverout")},2e3)}la.innerHTML=" 0/"+r,ja.style.display="block",ka.style.display="block",la.style.display="block",na.style.display="block",ma.style.display="block",R(4,ja,ha,la),Q(4,ia),ka.onclick=function(){N(ja.value),la.innerHTML=" 0/"+document.getElementsByClassName("input-limit-hint")[0].innerHTML.split("/")[1],ja.value=""},pa.addEventListener("change",function(){this.checked?b():c()});let e=null;const f=document.createElement("div"),g=document.createElement("div"),h=document.createElement("table"),i=document.createElement("table"),j=document.createElement("div"),k=document.createElement("div"),l=document.createElement("input"),m=document.createElement("span");let n,o;setTimeout(()=>{n=document.getElementsByClassName("fullscreen-danmaku")[0].getElementsByTagName("div")[0],o=document.getElementsByClassName("fullscreen-danmaku")[0].getElementsByTagName("div")[1],a(),b()},2e3)}}function L(){try{chrome.runtime.sendMessage({msg:"get_LoginInfo"},function(a){g=a.res.split(",")[0],v=a.res.split(",")[1]})}catch(a){}}function M(){return Math.round(Date.now()/1e3)}function N(a,b){let c=new FormData;c.append("bubble","0"),c.append("msg",a),c.append("color","16777215"),c.append("mode","1"),void 0!==b&&"systemEmoji"===b&&c.append("dm_type","1"),c.append("fontsize","25"),c.append("rnd",M()+""),c.append("roomid",h),c.append("csrf",g),c.append("csrf_token",g),0!==a.length&&O(c)}function O(a){fetch("https://api.live.bilibili.com/msg/send?requestFrom=rua5",{method:"POST",credentials:"include",body:a}).then((a)=>a.json()).then((a)=>{console.log("sent"),0!==a.message.length&&P("\u4F60\u7684\u5F39\u5E55\u88AB\u7CFB\u7EDF\u541E\u4E86\uFF0C\u91CD\u8BD5\u4E00\u4E0B\u5427\u3002")}).catch((a)=>{console.error("Error:",a),P("\u53D1\u9001\u5931\u8D25")})}function P(a){let b=U("rua-dm-input-form");qa.style.left=`${b[0]-140}px`,qa.style.top=`${b[1]+15}px`,qa.style.display="block",qa.innerHTML=`<span>&nbsp;&nbsp;&nbsp;&nbsp;${a}&nbsp;&nbsp;&nbsp;&nbsp;</span>`,setTimeout(()=>{qa.style.opacity="1"},400),setTimeout(()=>{qa.style.opacity="0"},1400),setTimeout(()=>{qa.style.display="none"},1800)}async function Q(a,b){await G(!1),fetch("https://api.live.bilibili.com/xlive/web-ucenter/v2/emoticon/GetEmoticons?platform=pc&room_id="+h,{method:"GET",credentials:"include",body:null}).then((a)=>a.json()).then((c)=>{if(0===c.code){let e="";for(let b=2;0<=b;b--)if(void 0!==c.data.data[b]&&null!==c.data.data[b]){e+=`</tr></tbody><thead><tr><th colspan='4' class='rua-table-header'>${c.data.data[b].pkg_name}</th></tr></thead><tbody><tr>`;for(let d,f=0;f<c.data.data[b].emoticons.length;f++)d=o<=c.data.data[b].emoticons[f].identity&&c.data.data[b].emoticons[f].unlock_need_level<=p,0==f%a&&0!==f&&(e+="</tr><tr>"),e+=`<td colspan="1" title="${c.data.data[b].emoticons[f].emoji}" id="${c.data.data[b].emoticons[f].emoticon_unique}"><div  class="rua-emoji-icon ${d?"rua-emoji-icon-active":"rua-emoji-icon-inactive"}" style="width:60px; height:60px; background-image:url('${c.data.data[b].emoticons[f].url.replace("http://","https://")}');"></div><div class="rua-emoji-requirement" style="background-color: ${c.data.data[b].emoticons[f].unlock_show_color};"><div class="rua-emoji-requirement-text">${c.data.data[b].emoticons[f].unlock_show_text}</div></div></td>`}e+="</tr></tbody>",b.innerHTML=e;for(let a=0;a<b.rows.length;a++){var d=b.rows[a].cells;for(let a=0;a<d.length;a++){const b=d[a].getElementsByTagName("div")[0];d[a].onclick=function(a){0===a.button&&b.classList.contains("rua-emoji-icon-active")&&N(this.id,"systemEmoji")}}}}0===ha.innerHTML.length&&25>=ia.innerHTML.length&&(ia.innerHTML=`<div id="load">当前直播间没有表情包，<br>如显示不正确，请<a href="${window.location}">点击这里</a>重试<br><br></div>`)}).catch(()=>{})}function R(a,b,c,d){try{let f=[0,0];b.addEventListener("compositionstart",()=>{ra=!1,sa=!1}),b.addEventListener("compositionend",()=>{ra=!0}),b.addEventListener("keyup",(a)=>{13===a.keyCode&&sa&&(a.preventDefault(),N(b.value),b.value=""),ra&&(sa=!0),f=T(d,b)}),b.addEventListener("keydown",(a)=>{"Enter"===a.code&&a.preventDefault()}),b.addEventListener("select",(a)=>{f=[a.target.selectionStart,a.target.selectionEnd]});let g="<thead><tr><th colspan=\"4\" class=\"rua-table-header\">\u5F39\u5E55\u673A\u8868\u60C5</th></tr></thead>";g+="<tbody><tr>";for(let b=0;b<imgs.length;b++)0==b%a&&0!==b&&(g+="</tr><tr>"),g+=`<td colspan="${imgs[b].getSpan()}" title="${emoji[b]}" class="rua-emoji-icon" style="background-image:url('${imgs[b].getURL()}');"></td>`;g+="</tr></tbody>",c.innerHTML=g;for(let g=1;g<c.rows.length;g++){var e=c.rows[g].cells;for(let c=0;c<e.length;c++)e[c].onclick=function(h){0===h.button&&(b.value=b.value.substr(0,f[0])+"("+emoji[c+(g-1)*a]+")"+b.value.substr(f[1]),f=T(d,b))}}}catch(a){c.innerHTML=""}}function S(a,b){a.innerHTML=10>b?" "+b+"/"+r:b+"/"+r}function T(a,b){return S(a,b.value.length),[b.selectionStart,b.selectionEnd]}function U(a){let b=document.getElementById(a),c=[b.offsetLeft,b.offsetTop],d=b.offsetParent;for(;null!==d;)c[0]+=d.offsetLeft,c[1]+=d.offsetTop+d.clientTop,d=d.offsetParent;return c[0]+=b.clientWidth-60,c[1]+=b.clientHeight-60,c}function V(){let a=U("rank-list-vm");A=[u-a[0],a[1],a[0]],A[2]>u-60?(ea.style.left=u-60+"px",fa.style.left=u-370+"px"):(ea.style.left=A[2]+"px",fa.style.left=A[2]-310+"px")}function W(){if(null===localStorage.getItem("rua_pos"))V(),z=!1;else if(localStorage.getItem("rua_pos").includes("undefined"))localStorage.removeItem("rua_pos"),V(),z=!1;else{z=!0;for(let a=0;3>a;a++)A[a]=parseInt(localStorage.getItem("rua_pos").split(",")[a]);let a=0;a=A[0]<A[2]?u-A[0]:A[2],A[1]>t-50&&(A[1]=t-50),ea.style.left=a+"px",fa.style.left=320>a?a+60+"px":a-310+"px"}}function X(a){a?(fa.style.background="#151515",ga.style.opacity="0.8",ka.style.opacity="0.8",ja.style.background="#151515",ja.style.borderColor="#2b2b2b"):(fa.style.removeProperty("background"),ga.style.removeProperty("opacity"),ka.style.removeProperty("opacity"),ja.style.removeProperty("background"),ja.style.removeProperty("border-color"))}function Y(){try{const a=document.getElementById("head-info-vm"),b=a.getElementsByClassName("live-title")[0].getElementsByClassName("text")[0].innerText,c=a.getElementsByClassName("lower-row")[0].getElementsByClassName("left-ctnr")[0].getElementsByTagName("a")[0].innerText;return Z(b+"-"+c)}catch(a){}return j}function Z(a){const b={545:"\u5854\u5B9D",1603600:"\u4F1F\u5927\u7684\u5C71\u732A\u738B\u661F\u6C50Seki\u965B\u4E0B",21652717:"\u5168\u4E16\u754C\u6700\u597D\u7684\u8C79\u8C79",21775601:"\u7D2B\u8272\u53D4\u53D4",22486793:"\u590F\u9E641\uFF1F\u590F\u9E640\uFF01"};return void 0!==b[h]&&(a.includes("-")?a=a.split("-")[0]+"-"+b[h]:a+="-"+b[h]),a}function $(){_(),za.getElementsByClassName("right-area")[0].appendChild(ua)}function _(){ua.innerHTML="<span class='text'>"+(wa?"\u7ED3\u675F\u5F55\u5236":"\u5F00\u59CB\u5F55\u5236")+"</span>",wa?(va.innerHTML="<span class='text'>\u5F55\u5236\u65F6\u957F "+ca(ya)+"</span>",za.getElementsByClassName("left-area")[0].appendChild(va)):va.innerHTML="<span class='text'></span>"}function aa(){wa=!wa,_(),console.log("Start recording"),0==l&&wa&&ba(),wa||(xa=!0,c.stop())}function ba(){try{const a=document.getElementById("live-player").getElementsByTagName("video")[0].captureStream();let b=[],d=0,f="",g=0;ya=0,k?(console.log(a),c=new MediaRecorder(a),c.ondataavailable=(a)=>{0<a.data.size&&(b.length>=l&&!wa&&b.splice(1,1),0===b.length&&(f=a.data.type),b.push(a.data),g+=a.data.size/1048576,wa&&(ya=b.length,va.innerHTML="<span class='text'>\u5F55\u5236\u65F6\u957F "+ca(ya)+"</span>"),d++)},c.onstart=()=>{console.log("start recording")},c.onstop=()=>{if(xa){const a=new Blob(b,{type:f}),c=window.URL.createObjectURL(a);xa=!1,j=Y(),console.log("clip sent to process: \r\nfileName: "+j+"\r\nvideo duration: "+ya+"s\r\nfile size: "+a.size/1048576+"MiB\r\nmime type: "+a.type),chrome.runtime.sendMessage({msg:"requestEncode",blob:c,filename:j,startTime:d-ya,duration:ya,requestType:"videoRecord"})}b=[],0<l&&ba()},c.start(1e3)):(c.ondataavailable=null,c.onstart=null,c.onstop=null,c=null)}catch(a){}}function ca(a){return Math.floor(a/60)+" : "+(10>a%60?"0":"")+a%60}var t,u,v="-1",w=window.innerWidth,x=[],y=1;i(),L(),setInterval(L,3e3);var z=!1,A=[100,100,100];const da=document.body,ea=document.createElement("div"),fa=document.createElement("div"),ga=document.createElement("div"),ha=document.createElement("table"),ia=document.createElement("table"),ja=document.createElement("textarea"),ka=document.createElement("button"),la=document.createElement("span"),ma=document.createElement("span"),na=document.createElement("section"),oa=document.createElement("div"),pa=document.createElement("input"),qa=document.createElement("div");setTimeout(function(){b&&0===document.getElementsByTagName("article").length&&D(e),f&&"-1"!=g&&0===document.getElementsByTagName("article").length&&F()},10),function(){function a(){if(void 0===document.getElementsByClassName("live-haruna-ctnr")[0])setTimeout(a,200);else{let a=document.getElementsByClassName("live-haruna-ctnr")[0].getAttribute("style").replace(";","");document.getElementsByClassName("live-haruna-ctnr")[0].setAttribute("style",a+" scale("+b+");");var c=new MutationObserver(function(a){a.forEach(function(a){if("attributes"===a.type&&"style"===a.attributeName){let a=document.getElementsByClassName("live-haruna-ctnr")[0].getAttribute("style").replace(";","");a.includes("scale")||document.getElementsByClassName("live-haruna-ctnr")[0].setAttribute("style",a+" scale("+b+");")}})});c.observe(document.getElementsByClassName("live-haruna-ctnr")[0],{attributes:!0})}}let b=1/window.devicePixelRatio;a()}(),window.addEventListener("focus",function(){H(m,n,!1)}),G(!0),0===document.getElementsByTagName("article").length&&function(){W(),ea.setAttribute("id","emoji-popup"),ea.style.background="url("+chrome.runtime.getURL("../images/haruka/abaaba.svg")+") no-repeat center";try{ea.style.background="url("+link+") no-repeat center"}catch(a){}ea.style.backgroundSize="contain",ea.style.cursor="pointer",ea.innerHTML="<!---->",fa.setAttribute("id","emoji-selection"),fa.classList.add("emoji_sec"),fa.style.display="none",fa.innerHTML="",ga.setAttribute("id","emoji-tray"),ga.classList.add("emoji_sec"),ga.appendChild(ha),ga.appendChild(ia),ha.setAttribute("class","rua-emoji-table"),ha.innerHTML="<div id='load'>\u52A0\u8F7D\u5F39\u5E55\u4E2D...</div>",ia.setAttribute("class","rua-system-emoji-table"),ea.style.top=A[1]+"px",fa.style.top=A[1]-5+"px",ka.setAttribute("id","input-button"),ka.innerHTML="<span>\u53D1\u9001</span>",ka.style.display="none",ja.setAttribute("id","rua-dm-input-form"),ja.placeholder="\u8FD9\u91CC\u4E5F\u53EF\u4EE5\u53D1\u5F39\u5E55~",ja.style.display="none",la.setAttribute("id","length-indicator"),la.style.display="none",qa.setAttribute("id","rua-err-bubble"),qa.style.display="none",qa.style.opacity="0",na.classList.add("button"),oa.classList.add("checkbox"),pa.type="checkbox",pa.checked=!0,oa.appendChild(pa),oa.appendChild(document.createElement("label")),na.appendChild(oa),na.style.display="none",ma.setAttribute("id","fullscreen-label"),ma.innerHTML="\u5168\u5C4F\u663E\u793A",ma.style.display="none",fa.appendChild(ja),fa.appendChild(ka),fa.appendChild(na),fa.appendChild(ma),fa.appendChild(la),fa.appendChild(ga),da.appendChild(fa),da.appendChild(ea),da.appendChild(qa);var a=[0,0],b=[0,0];window.onload=function(){ea.onmousedown=function(c){let d,e;document.body.style.userSelect="none",ea.className="popup-click-in";const f=c||event,g=f.clientX-ea.offsetLeft,h=f.clientY-ea.offsetTop;a=[ea.offsetLeft,ea.offsetTop],b=[ea.offsetLeft,ea.offsetTop],document.onmousemove=function(a){const c=a||event;0<=c.clientX-g&&c.clientX-g<=u-60&&(d=c.clientX-g),0<=c.clientY-h&&c.clientY-h<=t-60&&(e=c.clientY-h),b=[d,e],ea.style.left=d+"px",ea.style.top=e+"px",fa.style.left=320>d?d+60+"px":d-310+"px",fa.style.top=e>t-360?t-360+"px":e-5+"px",void 0===e&&(e=ea.offsetTop),-1<d&&(A=[u-d,e,d])},document.onmouseup=function(){document.body.style.userSelect="auto",ea.className="popup-click-out",J(a[0],a[1],b[0],b[1])?"none"===fa.style.display?(Q(4,ia),fa.classList.remove("selection-fade-out"),fa.style.display="block",fa.classList.add("selection-fade-in"),ja.focus()):(fa.classList.remove("selection-fade-in"),fa.classList.add("selection-fade-out"),setTimeout(()=>{fa.style.display="none"},300)):(z=!0,localStorage.setItem("rua_pos",A[0]+","+A[1]+","+A[2])),document.onmousemove=null,document.onmouseup=null}},ea.onmouseenter=function(){ea.className="popup-click-hoverin"},ea.onmouseleave=function(){ea.className="popup-click-hoverout"}},window.addEventListener("resize",function(){let a,b=A[0]<A[2]?A[0]/w:A[2]/w;i(),z?(a=A[0]<A[2]?u-A[0]:A[2],ea.style.left=a+"px"):V(),A[1]>t-60&&(ea.style.top=t-60+"px",fa.style.top=t-360+"px"),fa.style.left=320>a?a+60+"px":a-310+"px"})}();let ra=!0,sa=!0;var B=new MutationObserver(function(a){a.forEach(function(a){"attributes"===a.type&&(null===ta.getAttribute("lab-style")?X(!1):(x=ta.getAttribute("lab-style").split(","),-1===x.indexOf("dark")?X(!1):X(!0)))})});const ta=document.documentElement;B.observe(ta,{attributes:!0});const ua=document.createElement("div"),va=document.createElement("div");let wa=!1,xa=!1,ya=0,za=document.getElementById("web-player-controller-wrap-el");ua.classList.add("rua-record"),va.classList.add("rua-recording-time");const Aa=new MutationObserver(function(a){a.forEach(function(a){"childList"===a.type&&(0===a.addedNodes.length&&ua.removeEventListener("click",aa),void 0!==a.addedNodes[0]&&"DIV"===a.addedNodes[0].nodeName&&k&&($(),ua.addEventListener("click",aa)))})}),Ba=new MutationObserver(function(a){a.forEach(function(a){"childList"===a.type&&(void 0!==a.addedNodes[0]&&"VIDEO"===a.addedNodes[0].nodeName&&k&&0<l&&ba(),null===za&&void 0!==a.addedNodes[0]&&"DIV"===a.addedNodes[0].nodeName&&"web-player-controller-wrap-el"===a.addedNodes[0].id&&(za=a.addedNodes[0],Aa.observe(za,{childList:!0})))})});try{null!==za&&Aa.observe(za,{childList:!0}),Ba.observe(document.getElementById("live-player"),{childList:!0})}catch(a){}}}();