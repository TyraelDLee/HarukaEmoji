!function(){function a(a){f=null===window.localStorage.getItem('rua-hidden-cats')||void 0===window.localStorage.getItem('rua-hidden-cats')?{cat:[]}:JSON.parse(window.localStorage.getItem('rua-hidden-cats'));let d=a.getElementsByClassName('n-drawer')[0].getElementsByClassName('n-drawer-content-wrapper')[0].getElementsByClassName('elevator')[0].getElementsByClassName('elevator-wrap')[0].getElementsByClassName('elevator-list')[0];for(let g of d.childNodes)'#text'!==g.nodeName&&0===g.getElementsByClassName('elevator-core')[0].getElementsByTagName('div').length&&(g.getElementsByClassName('elevator-core')[0].classList.add('rua-elevator-core'),g.getElementsByClassName('elevator-core')[0].innerHTML+=`<svg class="icon rua-cross" viewBox="0 0 100 100" ><circle cx="50" cy="50" r="50" style="fill:#ff5e57;"/><rect x="25" y="45" rx="5" ry="5" width="50" height="10" style="transform: rotate(0deg);"/><rect x="25" y="45" rx="5" ry="5" width="50" height="10" style="transform: rotate(0deg);"/></svg><div class="rua-click-cover"></div>`,null!==window.localStorage.getItem('rua-hidden-cats')&&void 0!==window.localStorage.getItem('rua-hidden-cats')&&JSON.parse(window.localStorage.getItem('rua-hidden-cats')).cat.includes(g.getElementsByClassName('elevator-core')[0].getElementsByTagName('span')[0].innerText)&&b(g,!1),g.getElementsByTagName('svg')[1].addEventListener('click',(a)=>{b(g,g.getElementsByTagName('svg')[1].classList.contains('rua-cross-clicked')),window.localStorage.setItem('rua-hidden-cats',JSON.stringify(f));for(let b of document.body.getElementsByClassName('bili-layout')[0].childNodes)c(b);a.cancelBubble=!0},!1))}function b(a,b){a.getElementsByTagName('svg')[1].getElementsByTagName('circle')[0].style.fill=b?'#ff5e57':'#2bc840',a.getElementsByTagName('svg')[1].getElementsByTagName('rect')[0].style.transform=b?'rotate(0deg)':'rotate(90deg)',a.getElementsByTagName('svg')[1].getElementsByTagName('rect')[1].style.transform=b?'rotate(0deg)':'rotate(180deg)',a.getElementsByTagName('span')[0].style.opacity=b?'1':'0.3',b?(a.getElementsByTagName('svg')[1].classList.remove('rua-cross-clicked'),a.getElementsByClassName('elevator-core')[0].getElementsByClassName('rua-click-cover')[0].onclick=null,f.cat.popAt(a.getElementsByClassName('elevator-core')[0].getElementsByTagName('span')[0].innerText)):(a.getElementsByTagName('svg')[1].classList.add('rua-cross-clicked'),a.getElementsByClassName('elevator-core')[0].getElementsByClassName('rua-click-cover')[0].onclick=(a)=>{a.cancelBubble=!0},f.cat.pushUnique(a.getElementsByClassName('elevator-core')[0].getElementsByTagName('span')[0].innerText))}function c(a){a!==void 0&&'SECTION'===a.tagName&&'bili-grid'===a.className&&(JSON.parse(window.localStorage.getItem('rua-hidden-cats')).cat.includes(a.getElementsByTagName('div')[0].getElementsByClassName('area-header')[0].getElementsByClassName('left')[0].getElementsByTagName('a')[0].getAttribute('id'))?a.setAttribute('style',`display:none`):a.setAttribute('style',`display:grid`))}Array.prototype.popAt=function(a){if(!this.includes(a))return!1;for(let b=0;b<this.length;b++)if(a===this[b])return this.splice(b,1),!0;return!1},Array.prototype.pushUnique=function(a){return!this.includes(a)&&(this.push(a),!0)};let d='?'===window.location.pathname.replaceAll('/','').charAt(0)||0===window.location.pathname.replaceAll('/','').length,f={cat:[]},e=new MutationObserver((b)=>{b.forEach((b)=>{'childList'===b.type&&b.addedNodes[0]!==void 0&&'DIV'===b.addedNodes[0].tagName&&''===b.addedNodes[0].className&&(console.log('find'),a(b.addedNodes[0]))})}),g=new MutationObserver((b)=>{b.forEach((b)=>{'childList'===b.type&&(null!==document.getElementsByClassName('adblock-tips')[0]&&'undefined'!=typeof document.getElementsByClassName('adblock-tips')[0]&&document.getElementsByClassName('adblock-tips')[0].setAttribute('style','display: none;'),b.addedNodes[0]!==void 0&&'n-drawer-container'===b.addedNodes[0].className&&(a(b.addedNodes[0].childNodes[1]),e.observe(document.body.getElementsByClassName('n-drawer-container')[0],{childList:!0}),g.disconnect()))})}),h=new MutationObserver((a)=>{a.forEach((a)=>{'childList'===a.type&&c(a.addedNodes[0])})});if(d)try{g.observe(document.body,{childList:!0}),h.observe(document.body.getElementsByClassName('bili-layout')[0],{childList:!0})}catch(a){}}();