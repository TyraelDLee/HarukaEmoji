!function(){var e=Math.ceil;function t(){j=window.innerHeight*1,H=window.innerWidth*1}function i(){d(),Y.setAttribute("id","emoji-popup"),Y.style.background="url("+P+") no-repeat center",Y.style.backgroundSize="contain",Y.style.cursor="pointer",Y.innerHTML="<!---->",X.setAttribute("id","emoji-selection"),X.classList.add("emoji_sec"),X.style.display="none",X.innerHTML="",X.appendChild(J),X.appendChild(te),X.appendChild(ee),X.appendChild(le),X.appendChild(ae),K.appendChild(X),K.appendChild(Y),Y.style.top=W[1]+"px",X.style.top=W[1]-5+"px";var e=[0,0],i=[0,0];window.onload=function(){Y.onmousedown=function(t){let l,n;document.body.style.userSelect="none",Y.className="popup-click-in";const d=t||event,o=d.clientX-Y.offsetLeft,s=d.clientY-Y.offsetTop;e=[Y.offsetLeft,Y.offsetTop],i=[Y.offsetLeft,Y.offsetTop],document.onmousemove=function(e){const t=e||event;0<=t.clientX-o&&t.clientX-o<=H-70&&(l=t.clientX-o),0<=t.clientY-s&&t.clientY-s<=j-60&&(n=t.clientY-s),i=[l,n],Y.style.left=l+"px",Y.style.top=n+"px",X.style.left=320>l?l+60+"px":l-310+"px",X.style.top=n>j-360?j-360+"px":n-5+"px",n===void 0&&(n=Y.offsetTop),-1<l&&(W=[H-l,n,l])},document.onmouseup=function(){document.body.style.userSelect="auto",Y.className="popup-click-out",a(e[0],e[1],i[0],i[1])?"none"===X.style.display?(X.classList.remove("selection-fade-out"),X.style.display="block",X.classList.add("selection-fade-in")):(X.classList.remove("selection-fade-in"),X.classList.add("selection-fade-out"),setTimeout(()=>{X.style.display="none"},300)):(G=!0,localStorage.setItem("rua_pos",W[0]+","+W[1]+","+W[2])),document.onmousemove=null,document.onmouseup=null}},Y.onmouseenter=function(){Y.className="popup-click-hoverin"},Y.onmouseleave=function(){Y.className="popup-click-hoverout"}},window.addEventListener("resize",function(){let e,i=W[0]<W[2]?W[0]/V:W[2]/V;t(),G?(e=W[0]<W[2]?H-W[0]:W[2],Y.style.left=e+"px"):n(),W[1]>j-60&&(Y.style.top=j-60+"px",X.style.top=j-360+"px"),X.style.left=320>e?e+60+"px":e-310+"px"})}function a(e,t,i,a){var l=Math.abs;return 0===l(e-i)&&0===l(t-a)}function l(t){let i=document.getElementById(t),e=[i.offsetLeft,i.offsetTop],a=i.offsetParent;for(;null!==a;)e[0]+=a.offsetLeft,e[1]+=a.offsetTop+a.clientTop,a=a.offsetParent;return e[0]+=i.clientWidth-60,e[1]+=i.clientHeight-60,e}function n(){let e=l("danmukuBox");W=[H-e[0],e[1],e[0]],W[2]>H-60?(Y.style.left=H-60+"px",X.style.left=H-370+"px"):(Y.style.left=W[2]+"px",X.style.left=W[2]-310+"px")}function d(){if(null===localStorage.getItem("rua_pos"))n(),G=!1;else if(localStorage.getItem("rua_pos").includes("undefined"))localStorage.removeItem("rua_pos"),n(),G=!1;else{G=!0;for(let e=0;3>e;e++)W[e]=parseInt(localStorage.getItem("rua_pos").split(",")[e]);let e=0;e=W[0]<W[2]?H-W[0]:W[2],W[1]>j-50&&(W[1]=j-50),Y.style.left=e+"px",X.style.left=320>e?e+60+"px":e-310+"px"}}function o(t){Q.innerHTML="<b style='user-select: none'>\u89C6\u9891ID\uFF1A</b> <span>av"+A+"</span><span style='user-select: none'> / </span><span>"+T+"</span>",Z.innerText=L-1+2+"p/"+R.length+"p",k(),ne.innerHTML="",I=0,N=0,O=new DanmakuArr,ie.innerHTML="",F=!0,$.ajax({url:"https://api.bilibili.com/x/player/playurl?bvid="+T+"&cid="+t+"&qn=120&type=flv&fourk=1",type:"GET",dataType:"json",json:"callback",xhrFields:{withCredentials:!0},success:function(a){if(0===a.code){for(let e=0;e<a.data.durl.length;e++)I+=a.data.durl[e].length-1+1;for(let e=0;e<a.data.accept_quality.length;e++){q[a.data.accept_quality[e]]={accept_description:a.data.accept_description[e],accept_format:a.data.accept_format.split(",")[e]};let i=document.createElement("div");i.setAttribute("id","qn-"+a.data.accept_quality[e]),i.classList.add("rua-download-block"),i.innerHTML="<div class='rua-quality-des'>"+q[a.data.accept_quality[e]].accept_description+"</div>",ne.appendChild(i),_.push(i),i.onclick=()=>{b(T,t,a.data.accept_quality[e],M[0]+(1===M.length?"":M[L+1])+" "+a.data.accept_description[e])}}ne.style.height=40*e(_.length/3)+"px",s(t),v(t,A,1,C(I))}}})}function s(t){$.ajax({url:"https://api.bilibili.com/x/player/playurl?bvid="+T+"&cid="+t+"&qn=120&fnval=16",type:"GET",dataType:"json",json:"callback",xhrFields:{withCredentials:!0},success:function(i){if(0===i.code&&null!==i.data&&null!==i.data.dash.audio[0].baseUrl){let a=document.createElement("div");a.setAttribute("id","qn-sound"),a.classList.add("rua-download-block"),a.innerHTML="<div class='rua-quality-des'>Sound Only</div>",ne.appendChild(a),_.push(a),ne.style.height=40*e(_.length/3)+"px",a.onclick=()=>{U&&36e5>i.data.timelength?r(i.data.dash.audio[0].baseUrl,M[0]+(1===M.length?"":" "+M[L+1]),t):p(i.data.dash.audio[0].baseUrl)}}}})}function p(e){e+="&requestFrom=ruaDL",chrome.runtime.sendMessage({msg:"requestDownload",fileName:M[0]+(1===M.length?"":" "+M[L+1])});const t=document.createElement("a");t.style.display="none",t.href=e,t.target="_Blank",t.referrerPolicy="unsafe-url",t.download,document.body.appendChild(t),t.click(),document.body.removeChild(t)}function r(e,t,i){let l=_[_.length-1];l.onclick=null;let n=0,d=0;l.removeAttribute("title"),fetch(e,{method:"GET",body:null}).then(e=>(l.getElementsByClassName("rua-quality-des")[0].innerText="\u4E0B\u8F7D\u4E2D...",n=e.headers.get("Content-Length"),e.body)).then(e=>{const t=e.getReader();return new Response(new ReadableStream({start(e){function i(){return t.read().then(t=>{const{done:a,value:o}=t;return a&&(e.close(),l.getElementsByClassName("rua-quality-des")[0].innerText="\u8F6C\u7801\u4E2D..."),d+=o.length||0,y(l,100*(d/n)),e.enqueue(o),i()})}return i()}})).arrayBuffer()}).then(e=>{new AudioContext().decodeAudioData(e,e=>{const n=window.URL.createObjectURL(c(e,e.length)),d=document.createElement("a");d.style.display="none",d.href=n,d.download=t+".wav",document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(n),l.removeAttribute("style"),l.removeAttribute("title"),l.getElementsByClassName("rua-quality-des")[0].innerText="Sound Only",m(l,i)}).catch(()=>{u(l,i,"\u8BF7\u5728\u8BBE\u7F6E\u4E2D\u5173\u95ED\u97F3\u9891\u8F6C\u7801\u540E\u91CD\u8BD5\u3002",!0)})}).catch(t=>{u(l,i,t.toString(),!1)})}function y(e,t){e.setAttribute("style","background: linear-gradient(to right, #23ade5 0%, #23ade5 "+t+"%, #fb7299 "+t+"%, #fb7299);")}function u(e,t,i,a){console.log(i),e.setAttribute("style","background: #ff4650;"),e.setAttribute("title",i),e.getElementsByClassName("rua-quality-des")[0].innerText=a?"\u8F6C\u7801\u5931\u8D25":"\u4E0B\u8F7D\u5931\u8D25",e.onclick=()=>{e.onclick=null,m(e,t)}}function m(e,t){e.removeAttribute("title"),e.onclick=null,_.splice(_.length-1,1),s(t),e.parentElement.removeChild(e)}function c(e,t){var a=Math.max,l=Math.min;function n(e){y.setUint16(c,e,!0),c+=2}function d(e){y.setUint32(c,e,!0),c+=4}let o,s,p=2*(t*e.numberOfChannels)+44,r=new ArrayBuffer(p),y=new DataView(r),u=[],m=0,c=0;for(d(1179011410),d(p-8),d(1163280727),d(544501094),d(16),n(1),n(e.numberOfChannels),d(e.sampleRate),d(2*e.sampleRate*e.numberOfChannels),n(2*e.numberOfChannels),n(16),d(1635017060),d(p-c-4),o=0;o<e.numberOfChannels;o++)u.push(e.getChannelData(o));for(;c<p;){for(o=0;o<e.numberOfChannels;o++)s=a(-1,l(1,u[o][m])),s=0|(0>.5+s?32768*s:32767*s),y.setInt16(c,s,!0),c+=2;m++}return new Blob([r],{type:"audio/wav"})}function f(){L=0>L?0:L,R=[],M=[],$.ajax({url:"https://api.bilibili.com/x/web-interface/view?"+D(B),type:"GET",dataType:"json",json:"callback",xhrFields:{withCredentials:!0},success:function(e){if(0===e.code){A=e.data.aid,T=e.data.bvid,M.push(e.data.title);for(let t=0;t<e.data.pages.length;t++)R.push(e.data.pages[t].cid),1<e.data.pages.length&&M.push(e.data.pages[t].part);o(R[L])}}})}function g(e){e?X.style.background="#151515":X.style.removeProperty("background")}function b(e,t,i,a){let l=new XMLHttpRequest;l.withCredentials=!0,l.open("GET","https://api.bilibili.com/x/player/playurl?bvid="+T+"&cid="+t+"&qn="+i+"&type=flv&fourk=1"),l.send(null),l.onload=function(){200===l.status&&0===JSON.parse(l.responseText).code&&null!==JSON.parse(l.responseText).data.durl&&h(JSON.parse(l.responseText).data.durl,a,0,JSON.parse(l.responseText).data.durl.length)}}function h(e,t,i,l){const n=e[i].url+"&requestFrom=ruaDL";chrome.runtime.sendMessage({msg:"requestDownload",fileName:t+(1===e.length?"":"_p"+i)});const d=document.createElement("a");document.body.appendChild(d),d.style.display="none",d.href=n,d.target="_Blank",d.referrerPolicy="unsafe-url",d.download,d.click(),document.body.removeChild(d),++i,i<l&&setTimeout(()=>{h(e,t,i,l)},2e3)}function k(){for(let e=0;e<_.length;e++)_[e].onclick=null;_=[]}function D(e){if("AaBb".includes(e.charAt(0))&&"Vv".includes(e.charAt(1)))return"AaBb".substr(0,2).includes(e.charAt(0))?"aid="+e.replace("av",""):"bvid="+e}function v(e,t,i,a){fetch("https://api.bilibili.com/x/v2/dm/web/seg.so?type=1&oid="+e+"&pid="+t+"&segment_index="+i,{method:"GET",credentials:"include",body:null}).then(e=>e.arrayBuffer()).then(l=>{const n=new Uint8Array(l),d=protobuf.Root.fromJSON(dmObj);var o=d.lookupType("bilibili.community.service.dm.v1.DmSegMobileReply");chrome.runtime.sendMessage({msg:"requestDanmaku",danmakuObj:o.decode(n).elems},function(e){if(O.concat(e.danmakuContent),N+=e.danmakuPoolSize,document.getElementById("rua-danmaku-size").innerText="\u5171\u67E5\u8BE2\u5230"+O.size+" \u5F39\u5E55",ie.style.height=20*O.size+"px",F){for(let e=0;20>e;e++)!E(ie,"rua-danmaku-content","rua-danmaku-"+e)&&e<O.size&&O.get(e).look&&ie.appendChild(S(O.get(e).time,O.get(e).content,O.get(e).mid,e));F=20>O.size}}),i<a&&(i++,v(e,t,i,a))}).catch(()=>{})}function C(t){return e(t/36e4)}function x(e){let t=Math.floor(e/20);for(;ie.hasChildNodes();)ie.firstChild.onmousedown=null,ie.removeChild(ie.firstChild);for(let a=0;25>a;a++)t+a-5<O.size&&0<=t+a-5&&O.get(a).look&&ie.appendChild(S(O.get(a+t-5).time,O.get(a+t-5).content,O.get(a+t-5).mid,a+t-5))}function S(e,t,i,a){const l=document.createElement("div"),n=document.createElement("span"),d=document.createElement("span"),o=e.split(":"),s=[1,60,3600];let p=0;for(let l=o.length-1;0<=l;l--)p+=(o[o.length-1-l]-1+1)*s[l];return l.setAttribute("title",t),l.setAttribute("id","rua-danmaku-"+a),l.style.top=20*a+"px",l.classList.add("rua-danmaku-content"),n.setAttribute("class","seek-video rua-danmaku-time"),n.setAttribute("data-time",p),n.innerText=e,l.appendChild(n),d.classList.add("rua-danmaku"),d.innerText=t,l.appendChild(d),l.onmousedown=function(t){0===t.button&&w(document.body,i,X.style.left.replace("px","")-1+1,t.clientY-140,a)},l}function w(t,a,l,n){let d=document.createElement("div");d.setAttribute("class","rua-danmaku-user-info"),d.setAttribute("style","top:"+n+"px;left:"+l+"px;");let e=document.createElement("div");e.setAttribute("class","rua-danmaku-user-host");let i=document.createElement("div");i.setAttribute("id","rua-user-control-bar");let o=document.createElement("b");o.innerText="\u7528\u6237\u4FE1\u606F",o.style.paddingLeft="20px";let s=document.createElement("div");if(s.setAttribute("style","position: absolute; top: 2px; left: 280px; width: 14px; height: 14px;"),s.innerHTML="<svg width=\"14\" height=\"14\"><circle cx=\"7\" cy=\"7\" r=\"7\" fill=\"#f16c59\"/><line class=\"rua-cross\" x1=\"4\" y1=\"4\" x2=\"10.5\" y2=\"10.5\" style=\"stroke:#f16c59;stroke-width:1\"/><line class=\"rua-cross\" x1=\"10.5\" y1=\"4\" x2=\"4\" y2=\"10.5\" style=\"stroke:#f16c59;stroke-width:1\"/></svg>",i.appendChild(o),i.appendChild(s),0<document.body.getElementsByClassName("rua-danmaku-user-info").length){s.onmouseenter=null,s.onmouseleave=null,s.onmousedown=null,document.getElementById("app").onmousedown=null;for(let e=0;e<document.body.getElementsByClassName("rua-danmaku-user-info").length;e++)document.body.removeChild(document.body.getElementsByClassName("rua-danmaku-user-info")[e])}s.onmouseenter=()=>{for(let e=0;e<s.getElementsByClassName("rua-cross").length;e++)s.getElementsByClassName("rua-cross")[e].style.stroke="#A0000A"},s.onmouseleave=()=>{for(let e=0;e<s.getElementsByClassName("rua-cross").length;e++)s.getElementsByClassName("rua-cross")[e].style.stroke="#f16c59"},s.onmousedown=i=>{0===i.button&&(s.onmouseenter=null,s.onmouseleave=null,s.onmousedown=null,document.getElementById("app").onmousedown=null,t.removeChild(d))};const p=document.createElement("div");p.setAttribute("id","rua-user-host"),p.classList.add("emoji_sec");for(let e=0;e<a.length;e++)chrome.runtime.sendMessage({msg:"requestUserInfo",mid:a[e]},t=>{const i=document.createElement("div");i.setAttribute("class","rua-user");const l=document.createElement("a"),n=document.createElement("img");l.href="https://space.bilibili.com/"+a[e],l.target="_Blank",l.setAttribute("class","rua-user-avatar"),n.classList.add("bili-avatar-img"),n.setAttribute("src",t.response.face.replace("http://","https://")),l.appendChild(n),i.appendChild(l);const d=document.createElement("div");d.setAttribute("style","padding-left: 50px; padding-top: 9px;min-width: 100px;");const o=document.createElement("a");o.href="https://space.bilibili.com/"+a[e],o.target="_Blank";const s=document.createElement("b");s.innerText=t.response.name;const r=document.createElement("a");r.href="https://space.bilibili.com/"+a[e],r.target="_Blank",r.innerText="uid: "+a[e];const y=document.createElement("br");o.appendChild(s),d.appendChild(o),d.appendChild(y),d.appendChild(r),i.appendChild(d),p.appendChild(i)});e.appendChild(i),e.appendChild(p),d.appendChild(e),t.appendChild(d),document.getElementById("app").onmousedown=()=>{s.onmouseenter=null,s.onmouseleave=null,s.onmousedown=null,document.getElementById("app").onmousedown=null,t.removeChild(d)}}function E(e,t,a){for(let l=0;l<e.getElementsByClassName(t).length;l++)if(e.getElementsByClassName(t)[l].id===a)return!0;return!1}const P=chrome.runtime.getURL("../images/haruka/abaaba.svg");var B=window.location.pathname.replaceAll("/","").replace("video",""),A="",T="0",L=null===new URLSearchParams(window.location.search).get("p")?0:new URLSearchParams(window.location.search).get("p")-1,R=[],q={},M=[],_=[],I=0,N=0,O=new DanmakuArr,F=!0,U=!1;chrome.storage.sync.get(["wav"],function(e){U=e.wav}),chrome.storage.onChanged.addListener(function(e){for(let[t,{oldValue:i,newValue:a}]of Object.entries(e))"wav"===t&&(U=a)});var j,H,V=window.innerWidth,z=[];new MutationObserver(()=>{const e=new URLSearchParams(window.location.search).get("p")-1,t=window.location.pathname.replaceAll("/","").replace("video","");null!==new URLSearchParams(window.location.search).get("p")&&L!==e&&(L=e,o(R[e])),null!==t&&t!==B&&(B=t,f())}).observe(document,{subtree:!0,childList:!0}),t();var G=!1,W=[100,100,100];const K=document.body,Y=document.createElement("div"),X=document.createElement("div"),J=document.createElement("div");J.setAttribute("id","rua-video-info"),J.style.paddingTop="2px";const Q=document.createElement("div");Q.setAttribute("style","float: left; padding-left:5px"),J.appendChild(Q);const Z=document.createElement("span");Z.setAttribute("style","float: right; padding-right:5px; user-select: none;"),J.appendChild(Z);const ee=document.createElement("div");ee.setAttribute("id","rua-danmaku"),ee.classList.add("emoji_sec");const te=document.createElement("div");te.setAttribute("style","width: 300px; position: fixed; background: #fff"),te.innerHTML="<div style='float: left; user-select: none; padding-left: 5px'><b>\u5F39\u5E55\uFF1A</b></div><div style='float: right; padding-right: 5px; user-select: none' id='rua-danmaku-size'>\u5171\u67E5\u8BE2\u5230"+N+" \u5F39\u5E55</div>";const ie=document.createElement("div");ie.style.position="relative",ee.appendChild(ie);const ae=document.createElement("div");ae.setAttribute("id","rua-download"),ae.classList.add("emoji_sec");const le=document.createElement("div");le.setAttribute("style","width: 290px; position: fixed; background: #fff"),le.innerHTML="<div style='float: left; user-select: none; padding-left: 5px'><b>\u89C6\u9891\u4E0B\u8F7D\uFF1A</b></div>";const ne=document.createElement("div");ne.setAttribute("style","margin: 0 0 0 15px;"),ae.appendChild(ne),0===document.getElementsByTagName("article").length&&i(),f();var de=new MutationObserver(function(e){e.forEach(function(e){"attributes"===e.type&&(null===oe.getAttribute("lab-style")?g(!1):(z=oe.getAttribute("lab-style").split(","),-1===z.indexOf("dark")?g(!1):g(!0)))})});const oe=document.documentElement;de.observe(oe,{attributes:!0}),ee.onscroll=function(t){20<=O.size&&x(t.target.scrollTop)}}();var dmObj={nested:{bilibili:{nested:{community:{nested:{service:{nested:{dm:{nested:{v1:{nested:{DM:{methods:{DmSegMobile:{requestType:"DmSegMobileReq",responseType:"DmSegMobileReply"},DmView:{requestType:"DmViewReq",responseType:"DmViewReply"},DmPlayerConfig:{requestType:"DmPlayerConfigReq",responseType:"Response"},DmSegOtt:{requestType:"DmSegOttReq",responseType:"DmSegOttReply"},DmSegSDK:{requestType:"DmSegSDKReq",responseType:"DmSegSDKReply"}}},DmSegSDKReq:{fields:{pid:{type:"int64",id:1},oid:{type:"int64",id:2},type:{type:"int32",id:3},segmentIndex:{type:"int64",id:4}}},DmSegSDKReply:{fields:{closed:{type:"bool",id:1},elems:{rule:"repeated",type:"DanmakuElem",id:2}}},DmSegOttReq:{fields:{pid:{type:"int64",id:1},oid:{type:"int64",id:2},type:{type:"int32",id:3},segmentIndex:{type:"int64",id:4}}},DmSegOttReply:{fields:{closed:{type:"bool",id:1},elems:{rule:"repeated",type:"DanmakuElem",id:2}}},DmSegMobileReq:{fields:{pid:{type:"int64",id:1},oid:{type:"int64",id:2},type:{type:"int32",id:3},segmentIndex:{type:"int64",id:4},teenagersMode:{type:"int32",id:5}}},DmSegMobileReply:{fields:{elems:{rule:"repeated",type:"DanmakuElem",id:1},state:{type:"int32",id:2},aiFlag:{type:"DanmakuAIFlag",id:3}}},DmViewReq:{fields:{pid:{type:"int64",id:1},oid:{type:"int64",id:2},type:{type:"int32",id:3},spmid:{type:"string",id:4},isHardBoot:{type:"int32",id:5}}},DmViewReply:{fields:{closed:{type:"bool",id:1},mask:{type:"VideoMask",id:2},subtitle:{type:"VideoSubtitle",id:3},specialDms:{rule:"repeated",type:"string",id:4},aiFlag:{type:"DanmakuFlagConfig",id:5},playerConfig:{type:"DanmuPlayerViewConfig",id:6},sendBoxStyle:{type:"int32",id:7},allow:{type:"bool",id:8},checkBox:{type:"string",id:9},checkBoxShowMsg:{type:"string",id:10},textPlaceholder:{type:"string",id:11},inputPlaceholder:{type:"string",id:12},reportFilterContent:{rule:"repeated",type:"string",id:13}}},DmWebViewReply:{fields:{state:{type:"int32",id:1},text:{type:"string",id:2},textSide:{type:"string",id:3},dmSge:{type:"DmSegConfig",id:4},flag:{type:"DanmakuFlagConfig",id:5},specialDms:{rule:"repeated",type:"string",id:6},checkBox:{type:"bool",id:7},count:{type:"int64",id:8},commandDms:{rule:"repeated",type:"CommandDm",id:9},playerConfig:{type:"DanmuWebPlayerConfig",id:10},reportFilterContent:{rule:"repeated",type:"string",id:11}}},CommandDm:{fields:{id:{type:"int64",id:1},oid:{type:"int64",id:2},mid:{type:"string",id:3},command:{type:"string",id:4},content:{type:"string",id:5},progress:{type:"int32",id:6},ctime:{type:"string",id:7},mtime:{type:"string",id:8},extra:{type:"string",id:9},idStr:{type:"string",id:10}}},DmSegConfig:{fields:{pageSize:{type:"int64",id:1},total:{type:"int64",id:2}}},VideoMask:{fields:{cid:{type:"int64",id:1},plat:{type:"int32",id:2},fps:{type:"int32",id:3},time:{type:"int64",id:4},maskUrl:{type:"string",id:5}}},VideoSubtitle:{fields:{lan:{type:"string",id:1},lanDoc:{type:"string",id:2},subtitles:{rule:"repeated",type:"SubtitleItem",id:3}}},DanmuWebPlayerConfig:{fields:{dmSwitch:{type:"bool",id:1},aiSwitch:{type:"bool",id:2},aiLevel:{type:"int32",id:3},blocktop:{type:"bool",id:4},blockscroll:{type:"bool",id:5},blockbottom:{type:"bool",id:6},blockcolor:{type:"bool",id:7},blockspecial:{type:"bool",id:8},preventshade:{type:"bool",id:9},dmask:{type:"bool",id:10},opacity:{type:"float",id:11},dmarea:{type:"int32",id:12},speedplus:{type:"float",id:13},fontsize:{type:"float",id:14},screensync:{type:"bool",id:15},speedsync:{type:"bool",id:16},fontfamily:{type:"string",id:17},bold:{type:"bool",id:18},fontborder:{type:"int32",id:19},drawType:{type:"string",id:20}}},SubtitleItem:{fields:{id:{type:"int64",id:1},idStr:{type:"string",id:2},lan:{type:"string",id:3},lanDoc:{type:"string",id:4},subtitleUrl:{type:"string",id:5},author:{type:"UserInfo",id:6}}},UserInfo:{fields:{mid:{type:"int64",id:1},name:{type:"string",id:2},sex:{type:"string",id:3},face:{type:"string",id:4},sign:{type:"string",id:5},rank:{type:"int32",id:6}}},DanmakuElem:{fields:{id:{type:"int64",id:1},progress:{type:"int32",id:2},mode:{type:"int32",id:3},fontsize:{type:"int32",id:4},color:{type:"uint32",id:5},midHash:{type:"string",id:6},content:{type:"string",id:7},ctime:{type:"int64",id:8},weight:{type:"int32",id:9},action:{type:"string",id:10},pool:{type:"int32",id:11},idStr:{type:"string",id:12},attr:{type:"int32",id:13}}},DMAttrBit:{values:{DMAttrBitProtect:0,DMAttrBitFromLive:1,DMAttrHighLike:2}},DmPlayerConfigReq:{fields:{ts:{type:"int64",id:1},switch:{type:"PlayerDanmakuSwitch",id:2},switchSave:{type:"PlayerDanmakuSwitchSave",id:3},useDefaultConfig:{type:"PlayerDanmakuUseDefaultConfig",id:4},aiRecommendedSwitch:{type:"PlayerDanmakuAiRecommendedSwitch",id:5},aiRecommendedLevel:{type:"PlayerDanmakuAiRecommendedLevel",id:6},blocktop:{type:"PlayerDanmakuBlocktop",id:7},blockscroll:{type:"PlayerDanmakuBlockscroll",id:8},blockbottom:{type:"PlayerDanmakuBlockbottom",id:9},blockcolorful:{type:"PlayerDanmakuBlockcolorful",id:10},blockrepeat:{type:"PlayerDanmakuBlockrepeat",id:11},blockspecial:{type:"PlayerDanmakuBlockspecial",id:12},opacity:{type:"PlayerDanmakuOpacity",id:13},scalingfactor:{type:"PlayerDanmakuScalingfactor",id:14},domain:{type:"PlayerDanmakuDomain",id:15},speed:{type:"PlayerDanmakuSpeed",id:16},enableblocklist:{type:"PlayerDanmakuEnableblocklist",id:17},inlinePlayerDanmakuSwitch:{type:"InlinePlayerDanmakuSwitch",id:18}}},Response:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2}}},DanmakuFlag:{fields:{dmid:{type:"int64",id:1},flag:{type:"uint32",id:2}}},DanmakuFlagConfig:{fields:{recFlag:{type:"int32",id:1},recText:{type:"string",id:2},recSwitch:{type:"int32",id:3}}},DanmakuAIFlag:{fields:{dmFlags:{rule:"repeated",type:"DanmakuFlag",id:1}}},DanmuPlayerViewConfig:{fields:{danmukuDefaultPlayerConfig:{type:"DanmuDefaultPlayerConfig",id:1},danmukuPlayerConfig:{type:"DanmuPlayerConfig",id:2},danmukuPlayerDynamicConfig:{rule:"repeated",type:"DanmuPlayerDynamicConfig",id:3}}},DanmuDefaultPlayerConfig:{fields:{playerDanmakuUseDefaultConfig:{type:"bool",id:1},playerDanmakuAiRecommendedSwitch:{type:"bool",id:4},playerDanmakuAiRecommendedLevel:{type:"int32",id:5},playerDanmakuBlocktop:{type:"bool",id:6},playerDanmakuBlockscroll:{type:"bool",id:7},playerDanmakuBlockbottom:{type:"bool",id:8},playerDanmakuBlockcolorful:{type:"bool",id:9},playerDanmakuBlockrepeat:{type:"bool",id:10},playerDanmakuBlockspecial:{type:"bool",id:11},playerDanmakuOpacity:{type:"float",id:12},playerDanmakuScalingfactor:{type:"float",id:13},playerDanmakuDomain:{type:"float",id:14},playerDanmakuSpeed:{type:"int32",id:15},inlinePlayerDanmakuSwitch:{type:"bool",id:16}}},DanmuPlayerConfig:{fields:{playerDanmakuSwitch:{type:"bool",id:1},playerDanmakuSwitchSave:{type:"bool",id:2},playerDanmakuUseDefaultConfig:{type:"bool",id:3},playerDanmakuAiRecommendedSwitch:{type:"bool",id:4},playerDanmakuAiRecommendedLevel:{type:"int32",id:5},playerDanmakuBlocktop:{type:"bool",id:6},playerDanmakuBlockscroll:{type:"bool",id:7},playerDanmakuBlockbottom:{type:"bool",id:8},playerDanmakuBlockcolorful:{type:"bool",id:9},playerDanmakuBlockrepeat:{type:"bool",id:10},playerDanmakuBlockspecial:{type:"bool",id:11},playerDanmakuOpacity:{type:"float",id:12},playerDanmakuScalingfactor:{type:"float",id:13},playerDanmakuDomain:{type:"float",id:14},playerDanmakuSpeed:{type:"int32",id:15},playerDanmakuEnableblocklist:{type:"bool",id:16},inlinePlayerDanmakuSwitch:{type:"bool",id:17},inlinePlayerDanmakuConfig:{type:"int32",id:18}}},DanmuPlayerDynamicConfig:{fields:{progress:{type:"int32",id:1},playerDanmakuDomain:{type:"float",id:2}}},PlayerDanmakuSwitch:{fields:{value:{type:"bool",id:1},canIgnore:{type:"bool",id:2}}},PlayerDanmakuSwitchSave:{fields:{value:{type:"bool",id:1}}},PlayerDanmakuUseDefaultConfig:{fields:{value:{type:"bool",id:1}}},PlayerDanmakuAiRecommendedSwitch:{fields:{value:{type:"bool",id:1}}},PlayerDanmakuAiRecommendedLevel:{fields:{value:{type:"bool",id:1}}},PlayerDanmakuBlocktop:{fields:{value:{type:"bool",id:1}}},PlayerDanmakuBlockscroll:{fields:{value:{type:"bool",id:1}}},PlayerDanmakuBlockbottom:{fields:{value:{type:"bool",id:1}}},PlayerDanmakuBlockcolorful:{fields:{value:{type:"bool",id:1}}},PlayerDanmakuBlockrepeat:{fields:{value:{type:"bool",id:1}}},PlayerDanmakuBlockspecial:{fields:{value:{type:"bool",id:1}}},PlayerDanmakuOpacity:{fields:{value:{type:"float",id:1}}},PlayerDanmakuScalingfactor:{fields:{value:{type:"float",id:1}}},PlayerDanmakuDomain:{fields:{value:{type:"float",id:1}}},PlayerDanmakuSpeed:{fields:{value:{type:"int32",id:1}}},PlayerDanmakuEnableblocklist:{fields:{value:{type:"bool",id:1}}},InlinePlayerDanmakuSwitch:{fields:{value:{type:"bool",id:1}}}}}}}}}}}}}}};